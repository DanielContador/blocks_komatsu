<div id="dlmytraining_wrapper" class="hidden">
{{#renderall}}
    {{#has_courses}}
    <div class="card-block">
        <div class="row content-filter">
            <div class="col-xs-12 col-sm-12">
                <div class="col-sm-12 col-md-6 content-title-block">
                    <span class="title_block">{{#str}}my_courses, block_dlmytraining{{/str}}</span>
                </div>
                <div class="col-sm-12 col-md-6 filter">
                    
                    <div class="input-group">
                        <input type="text" class="form-control" id="slidename_{{ carousel_courses }}" placeholder="{{#str}}search_courses, block_dlmytraining{{/str}}" onkeyup="searchbyname(this)">
                    </div>
                </div>
            </div>
        </div>
    
        <div class="{{ carousel_courses }} slick">
            {{#mycourses}}
            <div>
                <div class="card">
                    <div class="card-header">
                        <a href="{{url_course}}">
                            <div class="img_mycourses" style="background-image: url({{course_image}});"></div>
                            <div class="course-text">
                                <span class="coursename">{{fullname}}</span>
                            </div>
                        </a>
                        <span class="icon-program">
                            <span class="bookmark">
                                <svg 
                                    version="1.1" 
                                    xmlns="http://www.w3.org/2000/svg" 
                                    xmlns:xlink="http://www.w3.org/1999/xlink" 
                                    x="0px" 
                                    y="0px" 
                                    width="34.6px"
                                    height="62px" 
                                    viewBox="0 0 34.6 62" 
                                    style="enable-background:new 0 0 34.6 62;" 
                                    xml:space="preserve">
                                    <style type="text/css">
                                        .st0{fill:#8A9B34;}
                                    </style>
                                    <defs>
                                    </defs>
                                    <g>
                                    <polygon class="st0" points="0,0 34.6,0 34.6,62 17.3,40.7 0,62 "/>
                                    </g>
                                </svg>
                            </span>
                            <span class="icon">
                                <svg version="1.1" 
                                    xmlns="http://www.w3.org/2000/svg"
                                    xmlns:xlink="http://www.w3.org/1999/xlink" 
                                    x="0px" 
                                    y="0px" 
                                    width="24.4px"
                                    height="21.8px" 
                                    viewBox="0 0 24.4 21.8" 
                                    style="enable-background:new 0 0 24.4 21.8;" 
                                    xml:space="preserve">
                                    <style type="text/css">
                                        .st1{fill:#fff;}
                                    </style>
                                    <defs>
                                    </defs>
                                    <g>
                                        <polygon class="st1" points="24.4,8.1 12.2,0 0,8.1 12.3,14.8 22.3,9.4 22.3,18.3 24.4,18.3 24.4,8.2 "/>
                                        <polygon class="st1" points="3.2,11.8 12.2,16.8 21.2,11.8 21.2,16.8 12.2,21.8 3.2,16.8 "/>
                                    </g>
                                </svg>
                            </span>
                        </span>
                    </div>
                    <div class="card-body">
                        <div class="card-content">
                            <div class="percent">
                                <div class="progress">
                                    <div  class="progress-bar" role="progressbar" aria-valuenow="{{progress_course}}" aria-valuemin="0" aria-valuemax="100" style="width:{{progress_course}}%"></div>
                                </div>
                                <span class="text-progress">{{progress_course}}%</span>
                            </div>
                            <span class="description">{{description}}</span>
                        </div>
                    </div>
                </div>
            </div>    
          {{/mycourses}}
        </div>
    </div>
    {{/has_courses}}
    
    {{#has_programs}}
    <div class="card-block">
        <div class="row content-filter">
            <div class="col-xs-12 col-sm-12">
                <div class="col-sm-12 col-md-6 content-title-block">
                    <span class="title_block">{{#str}}my_programs, block_dlmytraining{{/str}}</span>
                </div>
                <div class="col-sm-12 col-md-6 filter">
                    
                    <div class="input-group">
                        <input type="text" class="form-control" id="slidename_{{ carousel_programs }}" placeholder="{{#str}}search_programs, block_dlmytraining{{/str}}" onkeyup="searchprogram(this)">
                    </div>
                </div>
            </div>
        </div>
    
        <div class="{{ carousel_programs }} slick2">
            {{#myprograms}}
            <div>
                <div class="card">
                    <div class="card-header">
                        <a href="{{url_program}}">
                            <div class="img_mycourses" style="background-image: url({{image_program}});"></div>
                            <div class="course-text">
                                <span class="coursename">{{program_name}}</span>
                            </div>
                        </a>
                        <span class="icon-program">
                            <span class="bookmark">
                                <svg 
                                    version="1.1" 
                                    xmlns="http://www.w3.org/2000/svg" 
                                    xmlns:xlink="http://www.w3.org/1999/xlink" 
                                    x="0px" 
                                    y="0px" 
                                    width="34.6px"
                                    height="62px" 
                                    viewBox="0 0 34.6 62" 
                                    style="enable-background:new 0 0 34.6 62;" 
                                    xml:space="preserve">
                                    <style type="text/css">
                                        .st0{fill:#8A9B34;}
                                    </style>
                                    <defs>
                                    </defs>
                                    <g>
                                    <polygon class="st0" points="0,0 34.6,0 34.6,62 17.3,40.7 0,62 "/>
                                    </g>
                                </svg>
                            </span>
                            <span class="icon">
                                <svg 
                                    version="1.1" 
                                    xmlns="http://www.w3.org/2000/svg" 
                                    xmlns:xlink="http://www.w3.org/1999/xlink" 
                                    x="0px" 
                                    y="0px" 
                                    width="24px"
                                    height="22.7px" 
                                    viewBox="0 0 24 22.7" 
                                    style="enable-background:new 0 0 24 22.7;" 
                                    xml:space="preserve">
                                    <style type="text/css">
                                        .st1{fill:#FFFFFF;}
                                    </style>
                                    <defs>
                                    </defs>
                                    <g>
                                        <polygon class="st1" points="0,8 12,15 24,8 12,0 "/>
                                        <polygon class="st1" points="0,9.8 12,17.2 24,9.8 24,11.7 12,19 0,11.7 "/>
                                        <polygon class="st1" points="0,13.5 12,20.9 24,13.5 24,15.3 12,22.7 0,15.3 "/>
                                    </g>
                                    </svg>
                            </span>
                        </span>
                    </div>
                    <div class="card-body">
                        <div class="card-content">
                            <div class="percent">
                                <div class="progress">
                                    <div class="progress-bar" role="progressbar" aria-valuenow="{{percentage_program}}" aria-valuemin="0" aria-valuemax="100" style="width:{{percentage_program}}%"></div>
                                </div>
                                <span class="text-progress">{{percentage_program}}%</span>
                            </div>
                            <span class="program-num">{{courses_completed_program}} {{#str}}of, block_dlmytraining{{/str}} {{courses_total_program}} {{#str}}courses, block_dlmytraining{{/str}}</span>
                            <span class="description">{{description_program}}</span>
                        </div>
                    </div>
                </div>
                <div class="card card1"></div>
                <div class="card card2"></div>
            </div>    
          {{/myprograms}}
        </div>
    </div>
    {{/has_programs}}
    
    {{#has_certificates}}
    <div class="card-block">
        <div class="row content-filter">
            <div class="col-xs-12 col-sm-12">
                <div class="col-sm-12 col-md-6 content-title-block">
                    <span class="title_block">{{#str}}my_certificates, block_dlmytraining{{/str}}</span>
                </div>
                <div class="col-sm-12 col-md-6 filter">
                    
                    <div class="input-group">
                        <input type="text" class="form-control" id="slidename_{{ carousel_certificates }}" placeholder="{{#str}}search_certificates, block_dlmytraining{{/str}}" onkeyup="searchcertificate(this)">
                    </div>
                </div>
            </div>
        </div>
    
        <div class="{{ carousel_certificates }} slick3">
            {{#mycertificates}}
            <div>
                <div class="card">
                    <div class="card-header">
                        <a href="{{url_certificate}}">
                            <div class="img_mycourses" style="background-image: url({{certificate_image}});"></div>
                            <div class="course-text">
                                <span class="coursename">{{certificate_name}}</span>
                            </div>
                        </a>
                        <span class="icon-program">
                            <span class="bookmark">
                                <svg 
                                    version="1.1" 
                                    xmlns="http://www.w3.org/2000/svg" 
                                    xmlns:xlink="http://www.w3.org/1999/xlink" 
                                    x="0px" 
                                    y="0px" 
                                    width="34.6px"
                                    height="62px" 
                                    viewBox="0 0 34.6 62" 
                                    style="enable-background:new 0 0 34.6 62;" 
                                    xml:space="preserve">
                                    <style type="text/css">
                                        .st0{fill:#8A9B34;}
                                    </style>
                                    <defs>
                                    </defs>
                                    <g>
                                    <polygon class="st0" points="0,0 34.6,0 34.6,62 17.3,40.7 0,62 "/>
                                    </g>
                                </svg>
                            </span>
                            <span class="icon">
                                <svg 
                                    version="1.1" 
                                    xmlns="http://www.w3.org/2000/svg" 
                                    xmlns:xlink="http://www.w3.org/1999/xlink" 
                                    x="0px" y="0px" 
                                    width="24px"
                                    height="24px" 
                                    viewBox="0 0 24 24" 
                                    style="enable-background:new 0 0 24 24;" 
                                    xml:space="preserve">
                                    <style 
                                        type="text/css">
                                        .st0{fill:#FFFFFF;}
                                    </style>
                                    <defs>
                                    </defs>
                                    <path class="st1" d="M12,0C5.4,0,0,5.4,0,12c0,6.6,5.4,12,12,12s12-5.4,12-12C24,5.4,18.6,0,12,0z M17.3,20L12,17.2L6.7,20l1-6
                                    L3.4,9.8l6-0.9L12,3.5L14.7,9l6,0.9L16.3,14L17.3,20z"/>
                                </svg>
                            </span>
                        </span>
                    </div>
                    <div class="card-body">
                        <div class="card-content">
                            <div class="percent">
                                <div class="progress">
                                    <div class="progress-bar" role="progressbar" aria-valuenow="{{certificate_percentage}}" aria-valuemin="0" aria-valuemax="100" style="width:{{certificate_percentage}}%"></div>
                                </div>
                                <span class="text-progress">{{certificate_percentage}}%</span>
                            </div>
                            <span class="description">{{certificate_description}}</span>
                        </div>
                    </div>
                </div>
            </div>    
          {{/mycertificates}}
        </div>
    </div>
    {{/has_certificates}}
</div>
{{/renderall}}

<script type="text/javascript" src="//cdn.jsdelivr.net/jquery.slick/1.5.7/slick.min.js"></script>
{{#js}}
$('div#dlmytraining_wrapper').removeClass('hidden');
$('div#dlmytraining_wrapper').css('display','block');
    var widthCarruselProgram{{ carousel_programs }} = $('#region-{{ region }}').width();
    var widthCarruselProgramPrePost{{ carousel_programs }} = $('#block-region-{{ region }}').width();
    
    var widthCarruselCourse{{ carousel_courses }} = $('#region-{{ region }}').width();
    var widthCarruselCoursePrePost{{ carousel_courses }} = $('#block-region-{{ region }}').width();
    
    var widthCarruselCertificates{{ carousel_certificates }} = $('#region-{{ region }}').width();
    var widthCarruselCertificatesPrePost{{ carousel_certificates }} = $('#block-region-{{ region }}').width();
    
    var num{{ carousel_programs }} = 0;
    
    if(screen.width == 1366){
        $('.filter').parent().addClass('width-filter');
    }
    
    if(widthCarruselProgramPrePost{{ carousel_programs }} < 412) {
        num{{ carousel_programs }} = 1;
    }
    
    if(widthCarruselProgramPrePost{{ carousel_programs }} >= 413 && widthCarruselProgramPrePost{{ carousel_programs }} < 769) {
        num{{ carousel_programs }} = 2;
    }
    
    if(widthCarruselProgram{{ carousel_programs }} < 412 ) {
        num{{ carousel_programs }} = 1;
    }
    
    if(widthCarruselProgram{{ carousel_programs }} >= 413 && widthCarruselProgram{{ carousel_programs }} < 644) {
        num{{ carousel_programs }} = 2;
    }
    
    if(widthCarruselProgram{{ carousel_programs }} >= 644 && widthCarruselProgram{{ carousel_programs }} < 1000) {
        num{{ carousel_programs }} = 3;
    }
    
    if(widthCarruselProgram{{ carousel_programs }} >= 1000 && widthCarruselProgram{{ carousel_programs }} < 1200) {
        num{{ carousel_programs }} = 4;
    }
    
    if(widthCarruselProgram{{ carousel_programs }} >= 1200 && widthCarruselProgram{{ carousel_programs }} < 1400) {
        num{{ carousel_programs }} = 5;
    }
    
    if(widthCarruselProgram{{ carousel_programs }} >= 1400 ) {
        num{{ carousel_programs }} = 6;
    }
    
    var num{{ carousel_courses }} = 0;
    if(widthCarruselCoursePrePost{{ carousel_courses }} < 412) {
        num{{ carousel_courses }} = 1;
    }
    
    if(widthCarruselCoursePrePost{{ carousel_courses }} >= 413 && widthCarruselCoursePrePost{{ carousel_courses }} < 769) {
        num{{ carousel_courses }} = 2;
    }
    
    if(widthCarruselCourse{{ carousel_courses }} < 412 ) {
        num{{ carousel_courses }} = 1;
    }
    
    if(widthCarruselCourse{{ carousel_courses }} >= 413 && widthCarruselCourse{{ carousel_courses }} < 644) {
        num{{ carousel_courses }} = 2;
    }
    
    if(widthCarruselCourse{{ carousel_courses }} >= 644 && widthCarruselCourse{{ carousel_courses }} < 1000) {
        num{{ carousel_courses }} = 3;
    }
    
    if(widthCarruselCourse{{ carousel_courses }} >= 1000 && widthCarruselCourse{{ carousel_courses }} < 1200) {
        num{{ carousel_courses }} = 4;
    }
    
    if(widthCarruselCourse{{ carousel_courses }} >= 1200 && widthCarruselCourse{{ carousel_courses }} < 1400) {
       num{{ carousel_courses }} = 5;
    }
    
    if(widthCarruselCourse{{ carousel_courses }} > 1400) {
        num{{ carousel_courses }} = 6;
    }
    
    var num{{ carousel_certificates }} = 0;
    
    if(widthCarruselCertificatesPrePost{{ carousel_certificates }} < 412) {
        num{{ carousel_certificates }} = 1;
    }
    
    if(widthCarruselCertificatesPrePost{{ carousel_certificates }} >= 413 && widthCarruselCertificatesPrePost{{ carousel_certificates }} < 769) {
        num{{ carousel_certificates }} = 2;
    }
    
    if(widthCarruselCertificates{{ carousel_certificates }} < 412) {
        num{{ carousel_certificates }} = 1;
    }
    
    if(widthCarruselCertificatesPrePost{{ carousel_certificates }} >= 413 && widthCarruselCertificatesPrePost{{ carousel_certificates }} < 644) {
        num{{  carousel_certificates }} = 2;
    }
    
    if(widthCarruselCertificates{{ carousel_certificates }} >= 644 && widthCarruselCertificates{{ carousel_certificates }} < 1000) {
        num{{ carousel_certificates }} = 3;
    }
   
    if(widthCarruselCertificates{{ carousel_certificates }} > 1000 && widthCarruselCertificates{{ carousel_certificates }} < 1200) {
        num{{ carousel_certificates }} = 4;
    }
    
    if(widthCarruselCertificates{{ carousel_certificates }} >= 1200 && widthCarruselCertificates{{ carousel_certificates }} < 1400) {
        num{{ carousel_certificates }} = 5;
    }
    
    if(widthCarruselCertificates{{ carousel_certificates }} > 1400) {
        num{{ carousel_certificates }} = 6;
    }
    
    $('.{{ carousel_courses }}').slick({
        speed: 500,
        slidesToShow: num{{ carousel_courses }},
        slidesToScroll: 1,
    });
    $('.{{ carousel_programs }}').slick({
        speed: 500,
        slidesToShow: num{{ carousel_programs }},
        slidesToScroll: 1,
    });
    
    $('.{{ carousel_certificates }}').slick({
        speed: 500,
        slidesToShow: num{{ carousel_certificates }},
        slidesToScroll: 1,
    });
    
    function searchbyname(value) {
        const filter = jQuery(value).val();
        $('.slick').slick('slickUnfilter');
        $('.slick').slick('slickFilter', function() {
            let content = jQuery(this).find("span").text().toLowerCase();
            return content.indexOf(filter) > -1;
        });
    }
    
    function searchprogram(value) {
        const filter = jQuery(value).val();
        $('.slick2').slick('slickUnfilter');
        $('.slick2').slick('slickFilter', function() {
            let content = jQuery(this).find("a").text().toLowerCase();
            return content.indexOf(filter) > -1;
        });
    }
    function searchcertificate(value) {
        const filter = jQuery(value).val();
        $('.slick3').slick('slickUnfilter');
        $('.slick3').slick('slickFilter', function() {
            let content = jQuery(this).find("a").text().toLowerCase();
            return content.indexOf(filter) > -1;
        });
    }
    $( window ).on( "orientationchange", function( event ) {
        location.reload();
    });
    
{{/js}}